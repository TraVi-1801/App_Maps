package com.vic.project.app_maps.utilsimport android.Manifestimport android.app.Activityimport android.content.Contextimport android.content.ContextWrapperimport android.content.pm.PackageManagerimport android.os.Buildimport androidx.annotation.RequiresApiimport androidx.core.content.ContextCompatobject ContextUtils {    fun Context.findActivity(): Activity {        var context = this        while (context is ContextWrapper) {            if (context is Activity) return context            context = context.baseContext        }        throw IllegalStateException("no activity")    }    fun Context.hasForegroundLocation(): Boolean {        return ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED &&                ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED    }    fun Context.hasBackgroundLocation(): Boolean {        return if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.Q) {            ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_BACKGROUND_LOCATION) == PackageManager.PERMISSION_GRANTED        } else true    }}